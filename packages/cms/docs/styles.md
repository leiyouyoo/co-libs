---
order: 97
title: 开发规约
type: Documents
---

 由于前端微服务还是基于单页应用，所以需要采用规约控制DOM大小和全局污染。

### 控制Dom大小
> 微服务子应用由于在单document中，Dom太大一是会消耗资源，而是渲染耗时较长，开发时要遵循以下规约。

1. 模态框，弹窗采用动态创建(见@co/common文档)，关闭时销毁。
2. 有滚动的地方尽量采用虚拟滚动。
3. 标签页采用*ngIf控制显示时才渲染，隐藏时销毁dom.


### 全局污染
> 微服务子应用由于在单document中，所以不能控制子应用的完全沙箱隔离，开发时要遵循以下规约。

1. 子应用组件和页面开发样式才样式随组件(采用:host ::ng-deep) 避免定义全局样式。
2. 如果要定义子应用全局样式，可以 .子应用代码-layout { *** } 方式控制只在子应用下有效
3. 所有全局公共样式放在 @co/themes 库中。
4. 尽量不要定义全局变量，如果需要，请遵循遵循 CO_模块代码_***命名.
5. 在子应用中要使用第三方库，请跟黄迪确认后再使用。
