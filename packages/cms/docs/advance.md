---
order: 70
title: 构建和发布
type: Documents
---

## 构建
微服务与子应用本是一个 Angular CLI 项目，因此也可以参照 [Build](https://angular.io/cli/build) 完成更复杂的构建需求。构建打包成功之后，会在根目录生成 `dist` 文件夹，里面就是构建打包好的文件，包含若干 `*.js`、`*.css`、`index.html` 等静态文件。

### 构建门户

当项目开发完毕，只需要运行一行命令就可以打包你的应用：

```bash

--开发
npm run build:portal:dev
--生产
npm run build:portal:prod

```

### 构建子应用

当项目开发完毕，只需要运行一行命令就可以打包你的应用：

```bash

--开发
npm run build:子应用名:dev
--生产
npm run build:子应用名:prod

```



## 发布

### 发布门户

对于门户发布来讲，只需要将最终生成的静态文件，也就是通常情况下 `dist/portal` 文件夹的静态文件发布到你的 cdn 或者静态服务器即可，需要注意的是其中的 `index.html` 通常会是你后台服务的入口页面，在确定了 js 和 css 的静态之后可能需要改变页面的引入路径。


### 发布子应用

对于子应用发布来讲，只需要将最终生成的静态文件，也就是通常情况下 `dist/apps/子应用名` 文件夹的静态文件发布到静态服务器`portal\apps\子应用名`即可。


## 发布目录结构

```
├── portal                                        # 门户部署目录
│   ├── apps
│   │   ├── 子应用1                                # 子应用1
│   │   ├── 子应用2                                # 子应用2
│   ├── ****                                       # 门户静态资源
```





